(async function(){const i=window.location.search.match(/selectedIssue=(\w+-\d+)/),o=window.location.pathname.match(/browse\/(\w+-\d+)/),t=i?i[1]:o?o[1]:"";if(!t){console.warn("No open jira ticket found in this page");return}const c=await jQuery.getJSON("/rest/api/3/issue/"+t),r=c.fields.summary.trim().replace(/[^a-z0-9A-Z]/g,"-").replace(/\-+/g,"-").replace(/  /g," "),a=c.fields.issuetype.name.toLowerCase(),s=`${{bug:"fix"}?.[a]||"feat"}: ${t} ${r}`,n={bug:"fix"}?.[a]||"feature",e=`${n}/${t}`;prompt("Copy your branch name:",e),n==="fix"&&(prompt("Copy your hotfix branch name:",`hotfix-integration/${e}`),prompt("Copy your hotfix branch name:",`hotfix-prod/${e}`)),prompt("Copy your PR title:",s)})();
