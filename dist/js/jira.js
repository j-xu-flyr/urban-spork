(async function(){const i=window.location.search.match(/selectedIssue=(\w+-\d+)/),o=window.location.pathname.match(/browse\/(\w+-\d+)/),t=i?i[1]:o?o[1]:"";if(!t){console.warn("No open jira ticket found in this page");return}const n=await jQuery.getJSON("/rest/api/3/issue/"+t),r=n.fields.summary.trim().replace(/[^a-z0-9]/g,"-"),c=n.fields.issuetype.name.toLowerCase(),s=`${{bug:"fix"}?.[c]||"feat"}: ${t} ${r}`,a={bug:"fix"}?.[c]||"feature",e=`${a}/${t}`;prompt("Copy your branch name:",e),a==="fix"&&(prompt("Copy your hotfix branch name:",`hotfix-integration/${e}`),prompt("Copy your hotfix branch name:",`hotfix-prod/${e}`)),prompt("Copy your PR title:",s)})();
